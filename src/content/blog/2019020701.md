---
title: '【学習メモ】Vue.js入門 基礎から実践アプリケーション開発まで その6'
description: ''
publishDate: 02/07/2019 10:14:44
---

<h2>7 Vuex によるデータフローの設計・状態管理</h2>

<p>もスキップ。ざっくり読みましたが、データをどう持たせて処理するのが良いのかの参考になりました。</p>

<h2>8 中規模・大規模向けのアプリケーション開発</h2>

<ul>
<li>① 開発環境のセットアップ</li>
<li>② 設計</li>
<li>③ 実装</li>
</ul>

<p>を実際に手を動かさず流し読みしましたが、設計というのはこういうことかと勉強に...<br/>
これまで WordPress 開発などでモジュール化して開発する際も、なんとなく全体は見てから開発を始めてその都度パーツ（コンポーネント）を作成してという形だったので、確かに前もってどの機能ごとに分けて命名決めて、処理すること明確にするべきだと感じました。<br/>
もう少し学習してからこのタスク管理アプリは写経できたらなと思います。</p>

<h2>Appendix A jQuery からの移行</h2>

<h3>A.2 jQuery で実装していた機能の Vue.js による実装</h3>

<h4>A.2.1 イベントリスナー</h4>

<p><strong>jQuery</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;btn&quot;</span><span class="synIdentifier">&gt;</span>Click<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synComment">// jQuery</span>
$(<span class="synConstant">&quot;#btn&quot;</span>).on(<span class="synConstant">&quot;click&quot;</span>, <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
  <span class="synStatement">alert</span>(<span class="synConstant">&quot;Hi&quot;</span>);
<span class="synIdentifier">}</span>);
</pre>

<p><strong>Vue.js</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> v-on:click=</span><span class="synConstant">&quot;sayHi&quot;</span><span class="synIdentifier">&gt;</span>Click<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
  <span class="synComment">&lt;!-- &lt;button @click=&quot;sayHi&quot;&gt;Click&lt;/button&gt; でもOK --&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synComment">// Vue のマウント</span>
<span class="synIdentifier">var</span> app = <span class="synStatement">new</span> Vue(<span class="synIdentifier">{</span>
  el: <span class="synConstant">&quot;#app&quot;</span>,
  methods: <span class="synIdentifier">{</span>
    sayHi: <span class="synIdentifier">function</span>(<span class="synStatement">event</span>) <span class="synIdentifier">{</span>
      <span class="synComment">// デフォルトで引数にイベントオブジェクトが渡される</span>
      <span class="synStatement">alert</span>(<span class="synConstant">&quot;Hi&quot;</span>);
      console.log(<span class="synStatement">event</span>);
    <span class="synIdentifier">}</span>
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<h4>A.2.2 表示の切り替え</h4>

<p><strong>jQuery</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;on&quot;</span><span class="synIdentifier">&gt;</span>オン<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;off&quot;</span><span class="synIdentifier">&gt;</span>オフ<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>ON/OFF切り替え<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synComment">// jQuery</span>
<span class="synStatement">const</span> $on = $(<span class="synConstant">&quot;#on&quot;</span>);
<span class="synStatement">const</span> $off = $(<span class="synConstant">&quot;#off&quot;</span>);
<span class="synIdentifier">let</span> isOn = <span class="synConstant">false</span>;
$on.hide();
$(<span class="synConstant">&quot;button&quot;</span>).on(<span class="synConstant">&quot;click&quot;</span>, <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
  isOn = !isOn;
  <span class="synStatement">if</span> (isOn) <span class="synIdentifier">{</span>
    $on.show();
    $off.hide();
  <span class="synIdentifier">}</span> <span class="synStatement">else</span> <span class="synIdentifier">{</span>
    $on.hide();
    $off.show();
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<p><strong>Vue.js</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> v-show=</span><span class="synConstant">&quot;isOn&quot;</span><span class="synIdentifier">&gt;</span>オン<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> v-show=</span><span class="synConstant">&quot;!isOn&quot;</span><span class="synIdentifier">&gt;</span>オフ<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> @click=</span><span class="synConstant">&quot;toggle&quot;</span><span class="synIdentifier">&gt;</span>ON/OFF切り替え<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synIdentifier">var</span> app = <span class="synStatement">new</span> Vue(<span class="synIdentifier">{</span>
  el: <span class="synConstant">&quot;#app&quot;</span>,
  data: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
    <span class="synStatement">return</span> <span class="synIdentifier">{</span>
      isOn: <span class="synConstant">false</span>
    <span class="synIdentifier">}</span>;
  <span class="synIdentifier">}</span>,
  methods: <span class="synIdentifier">{</span>
    toggle: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
      <span class="synIdentifier">this</span>.isOn = !<span class="synIdentifier">this</span>.isOn;
    <span class="synIdentifier">}</span>
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<blockquote><p>jQuery と Vue.js の違いは、イベントリスナー（イベントハンドラ）で明示的に表示の切り替え（DOM 操作）を行うか否かです。jQuery はイベントリスナーで jQuery オブジェクトを通して明示的に要素の表示を切り替えますが、Vue.js は事前にテンプレートでデータと要素の表示・非表示の関係を記述した上で、イベントハラではデータの更新を行うだけです。</p></blockquote>

<h4>A.2.3 要素の挿入・削除</h4>

<p><strong>jQuery</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;loading&quot;</span><span class="synIdentifier">&gt;</span>ロードしています...<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synComment">// jQuery</span>
<span class="synStatement">const</span> $loading = $(<span class="synConstant">&quot;#loading&quot;</span>);
<span class="synStatement">const</span> $app = $(<span class="synConstant">&quot;#app&quot;</span>);
setTimeout(<span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
  <span class="synStatement">const</span> $loaded = $(<span class="synConstant">&quot;&lt;p&gt;ロードが完了しました&lt;/p&gt;&quot;</span>);
  $loading.remove();
  $app.append($loaded);
<span class="synIdentifier">}</span>, 1000);
</pre>

<p><strong>Vue.js</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> v-if=</span><span class="synConstant">&quot;isLoading&quot;</span><span class="synIdentifier">&gt;</span>ロードしています...<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> v-else&gt;</span>ロードが完了しました<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synIdentifier">var</span> app = <span class="synStatement">new</span> Vue(<span class="synIdentifier">{</span>
  el: <span class="synConstant">&quot;#app&quot;</span>,
  data: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
    <span class="synStatement">return</span> <span class="synIdentifier">{</span>
      isLoading: <span class="synConstant">true</span>
    <span class="synIdentifier">}</span>;
  <span class="synIdentifier">}</span>,
  mounted: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
    setTimeout(() =&gt; <span class="synIdentifier">{</span>
      <span class="synIdentifier">this</span>.isLoading = <span class="synConstant">false</span>;
    <span class="synIdentifier">}</span>, 1000);
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<h4>A.2.4 属性値の変更</h4>

<p><strong>jQuery</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier">&gt;&lt;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&quot;text&quot;</span><span class="synIdentifier"> </span><span class="synType">disabled</span><span class="synIdentifier"> /&gt;&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>入力欄を有効にする<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synComment">// jQuery</span>
<span class="synStatement">const</span> $input = $(<span class="synConstant">&quot;input&quot;</span>);
<span class="synStatement">const</span> $button = $(<span class="synConstant">&quot;button&quot;</span>);
<span class="synIdentifier">let</span> disabled = <span class="synConstant">true</span>;
$button.on(<span class="synConstant">&quot;click&quot;</span>, <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
  disabled = !disabled;
  $input.prop(<span class="synConstant">&quot;disabled&quot;</span>, disabled);
  <span class="synStatement">if</span> (disabled) <span class="synIdentifier">{</span>
    $button.text(<span class="synConstant">&quot;入力欄を有効にする&quot;</span>);
  <span class="synIdentifier">}</span> <span class="synStatement">else</span> <span class="synIdentifier">{</span>
    $button.text(<span class="synConstant">&quot;入力欄を無効にする&quot;</span>);
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<p><strong>Vue.js</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier">&gt;&lt;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&quot;text&quot;</span><span class="synIdentifier"> :</span><span class="synType">disabled</span><span class="synIdentifier">=</span><span class="synConstant">&quot;disabled&quot;</span><span class="synIdentifier"> /&gt;&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> @click=</span><span class="synConstant">&quot;toggleDisabled&quot;</span><span class="synIdentifier">&gt;</span>{{ buttonText }}<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synIdentifier">var</span> app = <span class="synStatement">new</span> Vue(<span class="synIdentifier">{</span>
  el: <span class="synConstant">&quot;#app&quot;</span>,
  data: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
    <span class="synStatement">return</span> <span class="synIdentifier">{</span>
      disabled: <span class="synConstant">true</span>
    <span class="synIdentifier">}</span>;
  <span class="synIdentifier">}</span>,
  computed: <span class="synIdentifier">{</span>
    buttonText: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
      <span class="synStatement">if</span> (<span class="synIdentifier">this</span>.disabled) <span class="synIdentifier">{</span>
        <span class="synStatement">return</span> <span class="synConstant">&quot;入力欄を有効にする&quot;</span>;
      <span class="synIdentifier">}</span> <span class="synStatement">else</span> <span class="synIdentifier">{</span>
        <span class="synStatement">return</span> <span class="synConstant">&quot;入力欄を無効にする&quot;</span>;
      <span class="synIdentifier">}</span>
    <span class="synIdentifier">}</span>
  <span class="synIdentifier">}</span>,
  methods: <span class="synIdentifier">{</span>
    toggleDisabled: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
      <span class="synIdentifier">this</span>.disabled = !<span class="synIdentifier">this</span>.disabled;
    <span class="synIdentifier">}</span>
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<h4>A.2.5 クラスの変更</h4>

<p><strong>jQuery</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">style</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">.message</span> <span class="synIdentifier">{</span>
    <span class="synType">font-weight</span>: <span class="synConstant">bold</span>;
  <span class="synIdentifier">}</span>
  <span class="synIdentifier">.message.is-red</span> <span class="synIdentifier">{</span>
    <span class="synType">color</span>: <span class="synConstant">red</span>;
  <span class="synIdentifier">}</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">style</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> </span><span class="synType">class</span><span class="synIdentifier">=</span><span class="synConstant">&quot;message&quot;</span><span class="synIdentifier">&gt;</span>メッセージ<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>文字色を切り替える<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synComment">// jQuery</span>
<span class="synStatement">const</span> $message = $(<span class="synConstant">&quot;.message&quot;</span>);
$(<span class="synConstant">&quot;button&quot;</span>).on(<span class="synConstant">&quot;click&quot;</span>, <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
  $message.toggleClass(<span class="synConstant">&quot;is-red&quot;</span>);
<span class="synIdentifier">}</span>);
</pre>

<p><strong>Vue.js</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">style</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">.message</span> <span class="synIdentifier">{</span>
    <span class="synType">font-weight</span>: <span class="synConstant">bold</span>;
  <span class="synIdentifier">}</span>
  <span class="synIdentifier">.message.is-red</span> <span class="synIdentifier">{</span>
    <span class="synType">color</span>: <span class="synConstant">red</span>;
  <span class="synIdentifier">}</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">style</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> </span><span class="synType">class</span><span class="synIdentifier">=</span><span class="synConstant">&quot;message&quot;</span><span class="synIdentifier"> :</span><span class="synType">class</span><span class="synIdentifier">=</span><span class="synConstant">&quot;{'is-red': isRed}&quot;</span><span class="synIdentifier">&gt;</span>メッセージ<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> @click=</span><span class="synConstant">&quot;toggleColor&quot;</span><span class="synIdentifier">&gt;</span>文字色を切り替える<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synIdentifier">var</span> app = <span class="synStatement">new</span> Vue(<span class="synIdentifier">{</span>
  el: <span class="synConstant">&quot;#app&quot;</span>,
  data: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
    <span class="synStatement">return</span> <span class="synIdentifier">{</span>
      isRed: <span class="synConstant">false</span>
    <span class="synIdentifier">}</span>;
  <span class="synIdentifier">}</span>,
  methods: <span class="synIdentifier">{</span>
    toggleColor: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
      <span class="synIdentifier">this</span>.isRed = !<span class="synIdentifier">this</span>.isRed;
    <span class="synIdentifier">}</span>
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<p><strong>Vue.js（算出プロパティによるクラス付与）</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">style</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">.message</span> <span class="synIdentifier">{</span>
    <span class="synType">font-weight</span>: <span class="synConstant">bold</span>;
  <span class="synIdentifier">}</span>
  <span class="synIdentifier">.message.is-red</span> <span class="synIdentifier">{</span>
    <span class="synType">color</span>: <span class="synConstant">red</span>;
  <span class="synIdentifier">}</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">style</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> </span><span class="synType">class</span><span class="synIdentifier">=</span><span class="synConstant">&quot;message&quot;</span><span class="synIdentifier"> :</span><span class="synType">class</span><span class="synIdentifier">=</span><span class="synConstant">&quot;messageClasses&quot;</span><span class="synIdentifier">&gt;</span>メッセージ<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> @click=</span><span class="synConstant">&quot;toggleColor&quot;</span><span class="synIdentifier">&gt;</span>文字色を切り替える<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synIdentifier">var</span> app = <span class="synStatement">new</span> Vue(<span class="synIdentifier">{</span>
  el: <span class="synConstant">&quot;#app&quot;</span>,
  data: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
    <span class="synStatement">return</span> <span class="synIdentifier">{</span>
      isRed: <span class="synConstant">false</span>
    <span class="synIdentifier">}</span>;
  <span class="synIdentifier">}</span>,
  computed: <span class="synIdentifier">{</span>
    messageClasses: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
      <span class="synStatement">return</span> <span class="synIdentifier">{</span>
        <span class="synConstant">&quot;is-red&quot;</span>: <span class="synIdentifier">this</span>.isRed
      <span class="synIdentifier">}</span>;
    <span class="synIdentifier">}</span>
  <span class="synIdentifier">}</span>,
  methods: <span class="synIdentifier">{</span>
    toggleColor: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
      <span class="synIdentifier">this</span>.isRed = !<span class="synIdentifier">this</span>.isRed;
    <span class="synIdentifier">}</span>
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<h4>A.2.6 スタイルの変更</h4>

<p><strong>jQuery</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> </span><span class="synType">class</span><span class="synIdentifier">=</span><span class="synConstant">&quot;message&quot;</span><span class="synIdentifier">&gt;</span>メッセージ<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> </span><span class="synType">data</span><span class="synIdentifier">-</span><span class="synType">color</span><span class="synIdentifier">-</span><span class="synType">name</span><span class="synIdentifier">=</span><span class="synConstant">&quot;red&quot;</span><span class="synIdentifier">&gt;</span>赤色<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> </span><span class="synType">data</span><span class="synIdentifier">-</span><span class="synType">color</span><span class="synIdentifier">-</span><span class="synType">name</span><span class="synIdentifier">=</span><span class="synConstant">&quot;yellow&quot;</span><span class="synIdentifier">&gt;</span>黄色<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> </span><span class="synType">data</span><span class="synIdentifier">-</span><span class="synType">color</span><span class="synIdentifier">-</span><span class="synType">name</span><span class="synIdentifier">=</span><span class="synConstant">&quot;blue&quot;</span><span class="synIdentifier">&gt;</span>青色<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synComment">// jQuery</span>
<span class="synStatement">const</span> $message = $(<span class="synConstant">&quot;.message&quot;</span>);
$(<span class="synConstant">&quot;button&quot;</span>).on(<span class="synConstant">&quot;click&quot;</span>, <span class="synIdentifier">function</span>(<span class="synStatement">event</span>) <span class="synIdentifier">{</span>
  $message.css(<span class="synConstant">&quot;color&quot;</span>, $(<span class="synStatement">event</span>.currentTarget).attr(<span class="synConstant">&quot;data-color-name&quot;</span>));
<span class="synIdentifier">}</span>);
</pre>

<p><strong>Vue.js</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">div</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier"> </span><span class="synType">class</span><span class="synIdentifier">=</span><span class="synConstant">&quot;message&quot;</span><span class="synIdentifier"> :</span><span class="synType">style</span><span class="synIdentifier">=</span><span class="synConstant">&quot;{color: color}&quot;</span><span class="synIdentifier">&gt;</span>メッセージ<span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> @click=</span><span class="synConstant">&quot;changeColor('red')&quot;</span><span class="synIdentifier">&gt;</span>赤色<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> @click=</span><span class="synConstant">&quot;changeColor('yellow')&quot;</span><span class="synIdentifier">&gt;</span>黄色<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">button</span><span class="synIdentifier"> @click=</span><span class="synConstant">&quot;changeColor('blue')&quot;</span><span class="synIdentifier">&gt;</span>青色<span class="synIdentifier">&lt;/</span><span class="synStatement">button</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">div</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synIdentifier">var</span> app = <span class="synStatement">new</span> Vue(<span class="synIdentifier">{</span>
  el: <span class="synConstant">&quot;#app&quot;</span>,
  data: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
    <span class="synStatement">return</span> <span class="synIdentifier">{</span>
      color: <span class="synConstant">&quot;&quot;</span>
    <span class="synIdentifier">}</span>;
  <span class="synIdentifier">}</span>,
  methods: <span class="synIdentifier">{</span>
    changeColor: <span class="synIdentifier">function</span>(color) <span class="synIdentifier">{</span>
      <span class="synIdentifier">this</span>.color = color;
    <span class="synIdentifier">}</span>
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<h4>A.2.6 スタイルの変更</h4>

<p>入力された値を取得する。送信時に入力内容を確認するダイアログを表示して、</p>

<ul>
<li>「OK」が押されればそのまま送信</li>
<li>「キャンセル」が押されれば中止</li>
</ul>

<p><strong>jQuery</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">form</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier"> </span><span class="synType">method</span><span class="synIdentifier">=</span><span class="synConstant">&quot;post&quot;</span><span class="synIdentifier"> </span><span class="synType">action</span><span class="synIdentifier">=</span><span class="synConstant">&quot;/questionaire&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
    <span class="synIdentifier">&lt;</span><span class="synStatement">label</span><span class="synIdentifier"> </span><span class="synType">for</span><span class="synIdentifier">=</span><span class="synConstant">&quot;name&quot;</span><span class="synIdentifier">&gt;</span>名前<span class="synIdentifier">&lt;/</span><span class="synStatement">label</span><span class="synIdentifier">&gt;</span>
    <span class="synIdentifier">&lt;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&quot;text&quot;</span><span class="synIdentifier"> </span><span class="synType">name</span><span class="synIdentifier">=</span><span class="synConstant">&quot;name&quot;</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;name&quot;</span><span class="synIdentifier"> </span><span class="synType">value</span><span class="synIdentifier">=</span><span class="synConstant">&quot;&quot;</span><span class="synIdentifier"> /&gt;</span>
  <span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
    <span class="synIdentifier">&lt;</span><span class="synStatement">label</span><span class="synIdentifier"> </span><span class="synType">for</span><span class="synIdentifier">=</span><span class="synConstant">&quot;age&quot;</span><span class="synIdentifier">&gt;</span>年齢<span class="synIdentifier">&lt;/</span><span class="synStatement">label</span><span class="synIdentifier">&gt;</span>
    <span class="synIdentifier">&lt;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&quot;number&quot;</span><span class="synIdentifier"> </span><span class="synType">name</span><span class="synIdentifier">=</span><span class="synConstant">&quot;age&quot;</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;age&quot;</span><span class="synIdentifier"> </span><span class="synType">value</span><span class="synIdentifier">=</span><span class="synConstant">&quot;&quot;</span><span class="synIdentifier"> /&gt;</span>
  <span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
    <span class="synIdentifier">&lt;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&quot;submit&quot;</span><span class="synIdentifier"> </span><span class="synType">value</span><span class="synIdentifier">=</span><span class="synConstant">&quot;送信&quot;</span><span class="synIdentifier"> /&gt;</span>
  <span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">form</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synComment">// jQuery</span>
<span class="synStatement">const</span> $nameInput = $(<span class="synConstant">&quot;#name&quot;</span>);
<span class="synStatement">const</span> $ageInput = $(<span class="synConstant">&quot;#age&quot;</span>);
<span class="synStatement">const</span> $form = $(<span class="synConstant">&quot;form&quot;</span>);
$form.on(<span class="synConstant">&quot;submit&quot;</span>, <span class="synIdentifier">function</span>(e) <span class="synIdentifier">{</span>
  <span class="synIdentifier">let</span> message = <span class="synIdentifier">[</span>
    <span class="synConstant">&quot;名前: &quot;</span> + $nameInput.val(),
    <span class="synConstant">&quot;年齢: &quot;</span> + $ageInput.val(),
    <span class="synConstant">&quot;この内容で送信しますか？&quot;</span>
  <span class="synIdentifier">]</span>.join(<span class="synConstant">&quot;</span><span class="synSpecial">\n</span><span class="synConstant">&quot;</span>);
  <span class="synStatement">if</span> (!<span class="synStatement">window</span>.<span class="synStatement">confirm</span>(message)) <span class="synIdentifier">{</span>
    e.preventDefault();
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<p><strong>Vue.js</strong></p>

<pre class="code lang-html" data-lang="html" data-unlink><span class="synIdentifier">&lt;</span><span class="synStatement">form</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;app&quot;</span><span class="synIdentifier"> @submit=</span><span class="synConstant">&quot;confirm&quot;</span><span class="synIdentifier"> </span><span class="synType">method</span><span class="synIdentifier">=</span><span class="synConstant">&quot;post&quot;</span><span class="synIdentifier"> </span><span class="synType">action</span><span class="synIdentifier">=</span><span class="synConstant">&quot;/questionaire&quot;</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
    <span class="synIdentifier">&lt;</span><span class="synStatement">label</span><span class="synIdentifier"> </span><span class="synType">for</span><span class="synIdentifier">=</span><span class="synConstant">&quot;name&quot;</span><span class="synIdentifier">&gt;</span>名前<span class="synIdentifier">&lt;/</span><span class="synStatement">label</span><span class="synIdentifier">&gt;</span>
    <span class="synIdentifier">&lt;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&quot;text&quot;</span><span class="synIdentifier"> </span><span class="synType">name</span><span class="synIdentifier">=</span><span class="synConstant">&quot;name&quot;</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;name&quot;</span><span class="synIdentifier"> v-model=</span><span class="synConstant">&quot;name&quot;</span><span class="synIdentifier"> /&gt;</span>
  <span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
    <span class="synIdentifier">&lt;</span><span class="synStatement">label</span><span class="synIdentifier"> </span><span class="synType">for</span><span class="synIdentifier">=</span><span class="synConstant">&quot;age&quot;</span><span class="synIdentifier">&gt;</span>年齢<span class="synIdentifier">&lt;/</span><span class="synStatement">label</span><span class="synIdentifier">&gt;</span>
    <span class="synIdentifier">&lt;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&quot;number&quot;</span><span class="synIdentifier"> </span><span class="synType">name</span><span class="synIdentifier">=</span><span class="synConstant">&quot;age&quot;</span><span class="synIdentifier"> </span><span class="synType">id</span><span class="synIdentifier">=</span><span class="synConstant">&quot;age&quot;</span><span class="synIdentifier"> v-model.number=</span><span class="synConstant">&quot;age&quot;</span><span class="synIdentifier"> /&gt;</span>
  <span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
  <span class="synIdentifier">&lt;</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
    <span class="synIdentifier">&lt;</span><span class="synStatement">input</span><span class="synIdentifier"> </span><span class="synType">type</span><span class="synIdentifier">=</span><span class="synConstant">&quot;submit&quot;</span><span class="synIdentifier"> </span><span class="synType">value</span><span class="synIdentifier">=</span><span class="synConstant">&quot;送信&quot;</span><span class="synIdentifier"> /&gt;</span>
  <span class="synIdentifier">&lt;/</span><span class="synStatement">p</span><span class="synIdentifier">&gt;</span>
<span class="synIdentifier">&lt;/</span><span class="synStatement">form</span><span class="synIdentifier">&gt;</span>
</pre>

<pre class="code lang-javascript" data-lang="javascript" data-unlink><span class="synIdentifier">var</span> app = <span class="synStatement">new</span> Vue(<span class="synIdentifier">{</span>
  el: <span class="synConstant">&quot;#app&quot;</span>,
  data: <span class="synIdentifier">function</span>() <span class="synIdentifier">{</span>
    <span class="synStatement">return</span> <span class="synIdentifier">{</span>
      name: <span class="synStatement">null</span>,
      age: <span class="synStatement">null</span>
    <span class="synIdentifier">}</span>;
  <span class="synIdentifier">}</span>,
  methods: <span class="synIdentifier">{</span>
    <span class="synStatement">confirm</span>: <span class="synIdentifier">function</span>(e) <span class="synIdentifier">{</span>
      <span class="synIdentifier">let</span> message = <span class="synIdentifier">[</span>
        <span class="synConstant">&quot;名前: &quot;</span> + <span class="synIdentifier">this</span>.name,
        <span class="synConstant">&quot;年齢: &quot;</span> + <span class="synIdentifier">this</span>.age,
        <span class="synConstant">&quot;この内容で送信しますか？&quot;</span>
      <span class="synIdentifier">]</span>.join(<span class="synConstant">&quot;</span><span class="synSpecial">\n</span><span class="synConstant">&quot;</span>);
      <span class="synStatement">if</span> (!<span class="synStatement">window</span>.<span class="synStatement">confirm</span>(message)) <span class="synIdentifier">{</span>
        e.preventDefault();
      <span class="synIdentifier">}</span>
    <span class="synIdentifier">}</span>
  <span class="synIdentifier">}</span>
<span class="synIdentifier">}</span>);
</pre>

<h5><code>v-model</code> の振る舞い</h5>

<p><strong><code>number</code> 修飾子</strong></p>

<p>入力を数値に変換します。</p>

<p><strong><code>lazy</code> 修飾子</strong></p>

<p><code>lazy</code> ディレクティブは、同期のタイミングを指定します。<br/>
同期のタイミングを <code>change</code> イベントが発火したタイミングに変更できます。<br/>
（入力が完了して、<code>input</code>要素のフォーカスが外れたタイミング）</p>

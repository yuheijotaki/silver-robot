---
import { SITE_TITLE } from '@/consts';
import Heading from '@/components/Heading.astro';

type Props = {
  isHome: boolean;
};

const { isHome = true } = Astro.props;

const Tag = isHome ? 'h1' : 'p';
---

<header class="header">
  <Heading text={SITE_TITLE} tag={Tag} level={1} url="/" bold={false} />
</header>

<script>
  const setup = () => {
    (window as any).swup.hooks.on('page:view', (visit: any) => {
      console.log(`from: "${visit.from.url}"`);
      console.log(`to: "${visit.to.url}"`);
      const body = document.querySelector('body');
      body?.classList.add('hoge');
    });
    (window as any).swup.hooks.on('content:replace', () => {
      console.log('content:replace');
      const body = document.querySelector('body');
      body?.classList.add('fuga');
    });
  };
  if ((window as any).swup) {
    setup();
  } else {
    document.addEventListener('swup:enable', setup);
  }
</script>

<style lang="scss">
  @use '@/styles/variables' as var;
  @use '@/styles/extension' as *;
</style>

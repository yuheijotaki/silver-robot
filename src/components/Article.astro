---
import type { CollectionEntry } from 'astro:content';
import Heading2 from '@/components/Heading2.astro';
import FormattedDate from '@/components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'];

const { title, publishDate } = Astro.props;
---

<article>
  <header>
    <FormattedDate date={publishDate} />
    <Heading2 text={title} tag="h1" />
  </header>
  <div class="content">
    <slot />
  </div>
</article>

<style lang="scss">
  @use '@/styles/variables' as var;
  @use '@/styles/extension' as *;

  article {
    display: flex;
    flex-direction: column;
    row-gap: var(--spacing-sm);
  }

  header {
    display: flex;
    flex-direction: column;
    row-gap: var(--spacing-xxs);
  }

  .content {
    :global(img) {
      vertical-align: text-bottom;
    }

    :global(small) {
      font-size: 0.8em;
    }

    :global(strong) {
      font-weight: bold;
    }

    :global(sub),
    :global(sup) {
      font-size: 0.8em;
    }

    :global(sub) {
      vertical-align: sub;
    }

    :global(sup) {
      vertical-align: super;
    }

    :global(p),
    :global(dl),
    :global(ol),
    :global(ul),
    :global(blockquote),
    :global(pre),
    :global(table) {
      margin-bottom: 1.4em;
    }

    :global(p):last-child,
    :global(dl):last-child,
    :global(ol):last-child,
    :global(ul):last-child,
    :global(blockquote):last-child,
    :global(pre):last-child,
    :global(table):last-child {
      margin-bottom: 0;
    }

    :global(p):empty {
      display: none;
    }

    :global(h1),
    :global(h2),
    :global(h3),
    :global(h4),
    :global(h5),
    :global(h6) {
      font-weight: bold;
      line-height: 1.5;
    }

    :global(h1):first-child,
    :global(h2):first-child,
    :global(h3):first-child,
    :global(h4):first-child,
    :global(h5):first-child,
    :global(h6):first-child {
      margin-top: 0;
    }

    :global(h1) {
      margin-top: 0.58333em;
      margin-bottom: 0.58333em;
      font-size: 2rem;
    }

    :global(h2) {
      margin-top: 1.75em;
      margin-bottom: 0.875em;
      font-size: 1.8rem;
    }

    :global(h3) {
      margin-top: 1.07692em;
      margin-bottom: 1.07692em;
      font-size: 1.6rem;
    }

    :global(h4) {
      margin-top: 1.16667em;
      margin-bottom: 1.16667em;
      font-size: 1.5rem;
    }

    :global(h5) {
      margin-top: 1.27273em;
      margin-bottom: 1.27273em;
      font-size: 1.4rem;
    }

    :global(h6) {
      margin-top: 1.4em;
      margin-bottom: 1.4em;
      font-size: 1.4rem;
    }

    :global(dd) {
      margin-left: 1.4em;
    }

    :global(ol),
    :global(ul) {
      margin-left: 1.4em;
      list-style-position: outside;
    }

    :global(ol) {
      list-style-type: decimal;
    }

    :global(ol) ol {
      list-style-type: lower-alpha;
    }

    :global(ol) ol ol {
      list-style-type: lower-roman;
    }

    :global(ol) ol ol ol {
      list-style-type: lower-greek;
    }

    :global(ol) ol ol ol ol {
      list-style-type: decimal;
    }

    :global(ol) ol ol ol ol ol {
      list-style-type: lower-alpha;
    }

    :global(ul) {
      list-style-type: disc;
    }

    :global(ul) ul {
      list-style-type: circle;
    }

    :global(ul) ul ul {
      list-style-type: square;
    }

    :global(ul) ul ul ul {
      list-style-type: circle;
    }

    :global(ul) ul ul ul ul {
      list-style-type: disc;
    }

    :global(ul) ul ul ul ul ul {
      list-style-type: circle;
    }

    :global(blockquote) {
      padding: 0.6em 1.2em;
      border-left: 4px solid #e6e6e6;
    }

    :global(blockquote) p {
      margin-bottom: 0;
    }

    :global(code),
    :global(kbd),
    :global(samp),
    :global(pre) {
      font-size: 0.9em;
      color: #333;
      background-color: #f2f2f2;
      -moz-osx-font-smoothing: auto;
      -webkit-font-smoothing: auto;
    }

    :global(code),
    :global(kbd),
    :global(samp) {
      padding: 0.1em 0.4em 0.2em;
      line-height: 1.77778;
      vertical-align: baseline;
      border-radius: 3px;
    }

    :global(pre) {
      padding: 1em 1.2em;
      overflow: auto;
    }

    :global(pre) code {
      font-size: 1em;
      line-height: 1em;
      background: none;
    }

    :global(figure) {
      margin-bottom: 2.8em;
      text-align: center;
    }

    :global(figure):first-child {
      margin-top: 0;
    }

    :global(figure):last-child {
      margin-bottom: 0;
    }

    :global(figcaption) {
      margin-top: 0.875em;
      font-size: 0.8em;
    }

    :global(table) {
      width: 100%;
    }

    :global(table) pre {
      white-space: pre-wrap;
    }

    :global(th),
    :global(td) {
      padding: 0.7em;
      font-size: 1em;
      line-height: 1.4;
      border: 1px solid #e6e6e6;
    }

    :global(thead) tr,
    :global(tfoot) tr {
      background-color: #f5f5f5;
    }

    :global(thead) th,
    :global(thead) td,
    :global(tfoot) th,
    :global(tfoot) td {
      padding: 0.77778em;
      font-size: 0.9em;
    }

    :global(thead) th code,
    :global(thead) td code,
    :global(tfoot) th code,
    :global(tfoot) td code {
      background-color: #fff;
    }

    :global(tbody) tr {
      background-color: #fff;
    }
  }
</style>
